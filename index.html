<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Apple Lyon - Login/Registro</title>
<style>
body { font-family: Arial, sans-serif; background-color: #121212; display:flex; justify-content: center; align-items: center; height: 100vh; color:#fff; position: relative; }
body::before { content:''; position:fixed; top:0; left:0; width:100%; height:100%; background-image: url('watermark.png'); background-size:contain; background-position:center; background-repeat:no-repeat; opacity:0.05; pointer-events:none; z-index:-1; }
.container { background-color: #1e1e1e; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.5); width: 400px; }
h1 { text-align: center; margin-bottom: 20px; }
input[type="email"], input[type="password"] { width: 100%; padding: 10px; margin-bottom: 10px; background-color:#2c2c2c; border:1px solid #444; border-radius:4px; color:#fff; }
button { padding: 10px 15px; margin-right: 10px; background-color:#3a3a3a; color:#fff; border: 2px solid #6264A7; border-radius:4px; cursor:pointer; }
button:hover { background-color:#555; }
.toggle { cursor: pointer; color: #6264A7; text-decoration: underline; }
</style>
</head>
<body>
<div class="container">
<h1>Apple Lyon</h1>
<div id="loginForm">
<h2>Login</h2>
<input type="email" id="loginEmail" placeholder="Email" required />
<input type="password" id="loginPassword" placeholder="Contraseña" required />
<button onclick="login()">Ingresar</button>
<p>No tienes una cuenta? <span class="toggle" onclick="toggleForms()">Regístrate</span></p>
</div>
<div id="registerForm" style="display:none;">
<h2>Registro</h2>
<input type="email" id="regEmail" placeholder="Email" required />
<input type="password" id="regPassword" placeholder="Contraseña" required />
<button onclick="register()">Registrar</button>
<p>Ya tienes cuenta? <span class="toggle" onclick="toggleForms()">Ingresa</span></p>
</div>
<div id="message"></div>
</div>
<script>
function toggleForms() {
  var loginForm = document.getElementById('loginForm');
  var registerForm = document.getElementById('registerForm');
  if (loginForm.style.display === 'none') {
    loginForm.style.display = '';
    registerForm.style.display = 'none';
  } else {
    loginForm.style.display = 'none';
    registerForm.style.display = '';
  }
}
function register() {
  var email = document.getElementById('regEmail').value.trim();
  var password = document.getElementById('regPassword').value.trim();
  if (!email || !password) {
    alert('Completa todos los campos');
    return;
  }
  var users = JSON.parse(localStorage.getItem('users') || '[]');
  var exists = users.find(u => u.email === email);
  if (exists) {
    alert('El usuario ya existe');
    return;
  }
  users.push({email: email, password: password});
  localStorage.setItem('users', JSON.stringify(users));
  alert('Registro exitoso, ahora puedes ingresar');
  toggleForms();
}
function login() {
  var email = document.getElementById('loginEmail').value.trim();
  var password = document.getElementById('loginPassword').value.trim();
  var users = JSON.parse(localStorage.getItem('users') || '[]');
  var user = users.find(u => u.email === email && u.password === password);
  if (!user) {
    alert('Credenciales incorrectas');
    return;
  }
  localStorage.setItem('loggedIn', 'true');
  location.href = 'landing.html';
}
</script>
</body>
</html>
